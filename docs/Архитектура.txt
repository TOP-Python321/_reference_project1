                Архитектура
                для проекта
            
              Крестики-Нолики



=========  МОДЕЛЬ РАСПРОСТРАНЕНИЯ  ========

    Набор .py файлов с файлами данных.



=============  МОДЕЛЬ ДАННЫХ  =============

1. Получение данных от пользователя
    
    команды
        
        каждой пользовательской команде соответствует несколько вариантов ввода
    
                    'начать новую партию': ('new', 'n', 'начать', 'н')
          'загрузить существующую партию': ('load', 'l', 'загрузка', 'з')
               'отобразить раздел помощи': ('help', 'h', 'помощь', 'п')
    'создать или переключиться на игрока': ('player', 'p', 'игрок', 'и')
         'отобразить таблицу результатов': ('table', 't', 'таблица', 'т')
                   'изменить размер поля': ('dim', 'd', 'размер', 'р')
                                  'выйти': ('quit', 'q', 'выход', 'в')
    
    имена игроков
        
        имя игрока должно содержать только буквенные, цифровые символы и символ подчёркивания, и состоять не менее чем из двух символов
        
            шаблон регулярного выражения:
            r'[A-Za-zА-ЯЁа-яё][A-Za-zА-ЯЁа-яё\d_]+'


2. Структуры данных
    
    имена игроков и их статистика
        
        { 'имя_игрока': {'побед': 0, 'поражений': 0, 'ничьих': 0}, 
          'имя_игрока2': {'побед': 0, 'поражений': 0, 'ничьих': 0}, ... }
    
    сделанные ходы
        
        приоритетный вариант
            
            { 4: 'X', 2: 'O', 8: 'X' }
        
        альтернативные варианты
            
            ( 4, 2, 8 )
            
            [ [['', '', 'O'], ['', 'X', ''], ['', '', 'X']],
              [['O', '', 'O'], ['', 'X', ''], ['', '', 'X']] ]
    
    шаблоны поля
        3x3: ' {} | {} | {} \n———————————\n {} | {} | {} \n———————————\n {} | {} | {} '
        4x4: ' {} | {} | {} | {} \n———————————————\n {} | {} | {} | {} \n———————————————\n {} | {} | {} | {} '
        ...
    
    сохранённые партии
        
        {
            ('имя_игрока', 'имя_игрока2'): {
                'dim': 3,
                'turns': {4: 'X', 2: 'O', 8: 'X'}
            },
            ('имя_игрока3', 'имя_игрока4'): {
                'dim': 3,
                'turns': {0: 'X', 4: 'O', 8: 'X', 5: 'O', 3: 'X'}
            },
            ...
        }


3. Файлы данных
    
    игроки и статистика — players.ini
        
        [имя_игрока]
        побед = 0
        поражений = 0
        ничьих = 0
        
        [имя_игрока2]
        побед = 2
        поражений = 3
        ничьих = 5
    
    сохранения — saves.txt
        
        приоритетный вариант
            
            имя_игрока,имя_игрока2!4,2,8!3
            имя_игрока3,имя_игрока4!0,4,8,5,3!3
        
        альтернативные варианты
            
            имя_игрока,имя_игрока2!--O-X----:--O-X---X
            имя_игрока3,имя_игрока4!X---OO--X:X--XOO--X
            
            ?



=====  ПОСЛЕДОВАТЕЛЬНОСТЬ ВЫПОЛНЕНИЯ  =====

1. Чтение файлов данных

2. ЕСЛИ первый запуск:
        вывод титров

3. Запрос имени игрока
    а) ЕСЛИ имени нет в базе игроков:
            добавление записи об игроке в базу игроков
            обновление файлов данных
            вывод раздела помощи
    б) добавление имени игрока к списку активных игроков

# суперцикл

    4. Ожидание ввода команды

    # new

        5. Запрос режима игры:

            ЕСЛИ один человек:
                 6. Запрос уровня сложности бота
                     а) добавление имени бота к списку активных игроков

            ЕСЛИ два человека:
                 7. Запрос имени второго игрока
                     а) ЕСЛИ имени нет в базе игроков:
                             добавление записи о втором игроке в базу игроков
                             обновление файлов данных
                     б) добавление имени второго игрока к списку активных игроков

        8. Запрос очерёдности ходов:
            ЕСЛИ первый игрок выбирает ходить вторым:
                 изменение списка активных игроков

        # партия

            9. Цикл до максимального количества ходов:

                10. Запрос хода игрока
                     а) ЕСЛИ ввод пустой:
                             сохранение незавершённой партии
                             переход к этапу 4

                        ЕСЛИ ввод не пустой:
                             ЕСЛИ ввод не корректный:
                                  повторение текущего этапа

                ИЛИ

                10. Расчёт хода бота

                11. Обновление глобальных переменных (опционально: выполнение автосохранения и обновление файлов данных)

                12. Вывод игрового поля со сделанным ходом

                13. ЕСЛИ есть победная комбинация:
                         переход к этапу 14

                    ЕСЛИ нет победной комбинации:
                          переход к этапу 9

        14. Обновление статистики в базе игроков и обновление файлов данных

        15. Переход к этапу 4

16. Обработка завершения работы приложения

